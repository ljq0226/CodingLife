
# 第一章 计算机网络概述


“网络”是一个统称，泛指把人或物**互连**在一起而形成的**系统**
计算机网络在信息时代的作用 
## 1 概述
### 1.1 定义

计算机网络主要是由一些**通用的、可编程**的**硬件互连**而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来**传送多种不同类型的数据**，并能支持广泛的和日益增长的应用。

### 1.2 分类
#### 按照网络的作用范围分类
+ 广域网 WAN (Wide Area Network)：作用范围通常为几十到几千公里。
+ 城域网 MAN (Metropolitan Area Network)：作用距离约为 5~50 公里。
+ 局域网 LAN (Local Area Network) ：局限在较小的范围（如 1 公里左右）。
+ 个人区域网 PAN (Personal Area Network) ：范围很小，大约在 10 米左右。
若CPU之间距离非常近，则成为**多处理机系统**而不是计算机网络


#### 按照网络的使用者进行分类
+ 公用网 (public network) 
按规定交纳费用的人都可以使用的网络。因此也可称为公众网。
+ 专用网 (private network) 
为特殊业务工作的需要而建造的网络。
#### 用来把用户接入到互联网的网络
**接入网AN**(Access Network),又称为本地接入网或居民接入网。接入网是从某个用户端系统到互联网中的**第一个**路由器（也称为边缘路由器）之间的一种网络，起到让用户能够与互联网连接的“桥梁”作用，既不属于互联网的核心部分，也不属于互联网的边缘部分。

### 1.3特点
#### 连通性
+ 使上网用户之间都可以交换信息（数据，以及各种音频视频） ，好像这些用户的计算机都可以彼此直接连通一样。
 + 注意，互联网具有虚拟的特点，无法准确知道对方是谁，也无法知道对方的位置。
#### 共享
+ 指**资源共享**。
+ 资源共享的含义是多方面的。可以是信息共享、软件共享，也可以是硬件共享。
+  由于网络的存在，这些资源好像就在用户身边一样，方便使用。


![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912203857.png)


## 2 互联网概述
互联网，特指 Internet，采用 **TCP/IP** 协议族作为通信规则，是一个覆盖全球、实现全球范围内**连通性和资源共享**的**计算机网络**。


![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912205210.png)


### 2.2 基于互联网发展的三个阶段

第一阶段：从单个网络 ARPANET 向互联网发展的过程。 
+ 1983 年，TCP/IP 协议成为 ARPANET 上的标准协议，使得所有使用 TCP/IP 协议的计算机都能利用互连网相互通信。
+ 人们把 1983 年作为互联网的诞生时间。
+ 1990年，ARPANET 正式宣布关闭。

第二阶段：建成了三级结构的互联网。 
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912205455.png)
+ 它是一个三级计算机网络，分为主干网、地区网和校园网（或企业网）。

第三阶段：逐渐形成了多层次 ISP 结构的互联网。 
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912205413.png)

+ 出现了**互联网服务提供者 ISP** (Internet Service Provider)。
+ 任何机构和个人只要向某个 ISP 交纳规定的费用，就可从该 ISP 获取所需 IP 地址的使用权，并可通过该 ISP 接入到互联网。
+ 根据提供服务的覆盖面积大小以及所拥有的IP地址数目的不同，ISP 也分成为不同层次的 ISP：主干 ISP、地区 ISP和本地 ISP。


## 3 互联网的组成
从互联网的工作方式上看，可以划分为两大块：
+ 边缘部分： 由**所有连接在互联网上的主机**组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。
+ 核心部分：由大量**网络**和连接这些网络的**路由器**组成。这部分是为边缘部分提供服务的（提供连通性和交换）

![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912205741.png)

### 3.1 边缘部分
这些在互联网边缘部分上的所有主机又称为**端系统**，端系统可以是个人电脑、智能手机
大型计算机等等，其拥有者可以是个人、单位或某个ISP。
####  端系统之间的通信

“**主机 A 的某个进程和主机 B 上的另一个进程进行通信**”，简称为“计算机之间通信”。

##### 客户服务器模式

客户 服务器方式（Client/Server  C/S方式）
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912212006.png)


+ 客户 (client) 和服务器 (server) 都是指通信中所涉及的**两个应用进程**。
+ 客户-服务器方式所描述的是进程之间**服务和被服务的关系**。
+ 客户是服务的请求方，服务器是服务的提供方。

服务请求方和服务提供方都要使用网络核心部分所提供的服务

##### 对等连接方式
+ 对等连接 (peer-to-peer，简写为 **P2P** ) 是指两个主机在通信时并不区分哪一个是服务请求方还是服务提供方。
+ 只要两个主机都运行了**对等连接软件** ( P2P 软件) ，它们就可以进行**平等的、对等连接通信**。
+ 双方都可以下载对方已经存储在硬盘中的共享文档。 
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912212322.png)

对等连接工作方式可支持**大量对等**用户（如上百万个）**同时**工作，对等连接方式从本质上看仍然是使用**客户服务器方式**，只是对等连接中的每一个主机**既是客户又是服务器**。


### 3.2 核心部分

+ 网络核心部分是互联网中最复杂的部分。
+ 网络中的核心部分要向网络边缘中的大量主机提供连通性，使边缘部分中的任何一个主机都能够向其他主机通信（即传送或接收各种形式的数据）。
+ 在网络核心部分起特殊作用的是**路由器 (router)**。
+ 路由器是实现**分组交换** (packet switching) 的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。

#### 分组交换
+ 分组交换则采用**存储转发**技术。
+ 在发送端，先把较长的报文**划分成较短的、固定长度**的数据段。
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912213846.png)

每一个分组由**首部**(携带目的地址和源地址等控制信息)和**数据**构成，每个分组在互联网中**独立地选择传输路径**，接受端收到分组后**剥去首部**还原成报文。

![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912213012.png)
分组交换的优点
+ 高效：在分组传输的过程中**动态分配**传输带宽，对通信链路是逐段占用。
+ 灵活：为每一个分组**独立**地选择最合适的转发路由。
+ 迅速：以分组作为传送单位，可以**不先建立连接**就能向其他主机发送分组。
+ 可靠：保证可靠性的网络协议；**分布式多路由**的分组交换网，使网络有很好的生存性。
分组交换带来的问题
+ 分组在各结点存储转发时需要排队，这就会造成一定的**时延**
+ 分组必须携带的首部也造成了一定的**开销**。

#### 电路、报文交换(了解)
电路交换：
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912213214.png)
过程：
+ 建立连接
+ 通信
+ 释放连接
缺点：计算机数据具有突发性，计算机利用率很低
三种数据交换方式的比较

![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912214419.png)








## 4 计算机网络的性能指标

#### 4.1 速率
+ **比特**（bit）是计算机中**数据量**的单位，也是信息论中使用的信息量的单位。
+ 比特（bit）来源于 binary digit，意思是一个“二进制数字”，因此一个比特就是二进制数字中的一个 1 或 0。
+ 速率是计算机网络中最重要的一个性能指标，指的是**数据的传送速率**，它也称为**数据率** (data rate) 或**比特率** (bit rate)。
+ 速率的单位是 bit/s，或 kbit/s、Mbit/s、 Gbit/s等。
  例如4 * 10^10  bit/s 的数据率就记为 40 Gbit/s。
+ 速率往往是指额定速率或标称速率，非实际运行速率。  


#### 4.2 带宽
+ **频域**称谓：“带宽”(bandwidth) 本来是指信号具有的**频带宽度**，其单位是赫（或千赫、兆赫、吉赫等）。
+ **时域**称谓：在计算机网络中，带宽用来表示网络中某**通道传送数据**的能力。表示在单位时间内网络中的某信道所能通过的“最高数据率”。单位是 **bit/s**，即 “比特每秒”。    


#### 4.3吞吐量
+ 吞吐量 (throughput) 表示在**单位时间内**通过某个网络（或信道、接口）的**数据量**。
+ 吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。
+ 吞吐量受网络的带宽或网络的额定速率的限制。  


#### 4.4 时延
+ 时延 (delay 或 latency) 是指数据（一个报文或分组，甚至比特）从网络（或链路）的**一端传送到另一端**所需的**时间**。
+ 有时也称为延迟或迟延。
+ 网络中的时延由以下几个不同的部分组成：
**总时延 = 发送时延  + 传播时延 + 处理时延 + 排队时延**
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912220525.png)

##### 发送时延
+ 也称为**传输时延**。
+ 发送数据时，数据帧从结点进入到传输媒体所需要的时间。
+ 也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。
提高链路宽带减小的是数据的发送时延。
`发送时延 = 数据帧长度(bit)/发送速率(bit/s)`
```
100MB 的数据以1M/s的速度传输需要多久？

100MB = 100 * 2^20  * 8 bit

time = 100 * 2^20  * 8 / 10^6 

```

##### 传播时延
+ 电磁波在信道中需要传播一定的距离而花费的时间。 
+ **发送时延与传播时延有本质上的不同**。
+ 信号**发送速率**和信号在信道上的**传播速率**是完全不同的概念。

`传播时延 = 信道长度(米)/信号在信道上的传播速率(米/秒)`

##### 处理时延
+ 主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间

##### 排队时延
+ 分组在路由器输入输出队列中**排队等待处理**所经历的时延。
+ **排队时延的长短往往取决于网络中当时的通信量**


#### 4.5时延带宽积
>时延带宽积 = 传播时延 X 带宽

相当于是链路上的一段空心管道，只有当链路的管道都充满比特时，链路才得到了充分利用。
#### 4.6 往返时间RTT
往返时间 RTT (round-trip time) 表示从发送方发送数据开始，到发送方收到来自接收方的确认，**总共经历**的时间。在互联网中，往返时间还包括各中间结点的处理时延、排队时延以及转发数据时的发送时延。


#### 4.7 利用率
##### 信道利用率
+ 指出某信道有**百分之几**的时间是被利用的（**有数据通过**）,完全空闲的信道的利用率是零。
+ 信道利用率并非越高越好。当某信道的利用率增大时，该信道引起的时延也就迅速增加。
![](https://obs-pic-1309372570.cos.ap-chongqing.myqcloud.com/20220912222002.png)

##### 网络利用率
网络的信道利用率的**加权平均值**。

分为信道利用率和 。
信道利用率指出某信道有百分之几的时间是被利用的（有数据通过。
完全空闲的信道的利用率是零。
网络利用率则是全网络的信道利用率的加权平均值。
信道利用率并非越高越好。当某信道的利用率增大时，该信道引起的时延也就迅速增加。
根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。 
若令 D0 表示网络空闲时的时延，D 表示网络当前的时延，则在适当的假定条件下，可以用下面的简单公式表示 D 和 D0 之间的关系：
![[Pasted image 20220907164346.png]]


![[Pasted image 20220907164400.png]]

#### 计算机网络的非性能指标
费用
质量
标准化
可靠性
可扩展性和可升级性 
易于管理和维护 


## 5  计算机网络的体系结构


各种计算机在世界范围内互连成网的**标准框架**，即著名的开放系统互连基本参考模型 OSI/RM (**Open Systems Interconnection Reference Model**)，简称为 OSI。
只要遵循 OSI 标准，一个系统就可以和位于世界上任何地方的、也遵循这同一标准的其他任何系统进行通信。

#### 两种国际标准
+ 法律上的 (de jure) 国际标准 OSI 并没有得到市场的认可。
+ 非国际标准 TCP/IP 却获得了最广泛的应用。TCP/IP 常被称为事实上的 (de facto) 国际标准。

#### 协议与划分的层次

+ 计算机网络中的数据交换必须遵守事先约定好的规则。 
+ 这些规则明确规定了所交换的数据的格式以及有关的同步问题（同步含有时序的意思）。
+ 网络协议 (network protocol)，简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。 

##### 网络协议的三个组成要素
+ 语法：数据与控制信息的结构或格式 。 
+ 语义：需要发出何种控制信息，完成何种动作以及做出何种响应。 
+ 同步：事件实现顺序的详细说明。 
